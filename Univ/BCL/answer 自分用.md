> 西井の特製テキストのページにある「UNIX操作の演習課題」をして，このディレクトリ内にメモや作成したプログラムを置きましょう  

ここには課題をやった答えを書いていきます
# 0&emsp;基本事項
*~/ はホームディレクトリを意味する*  
**ファイルとディレクトリの違いに気をつけること!**  
**自分が今、どのディレクトリにいるのか常に把握すること!!**  
**半角スペースに見えていても全角スペースのことがあるので注意すること**  
本文中では、コマンドとキー操作の違いを明確にするため、  

キー操作 ： 「Option + Command + I」 を押下  
コマンド &nbsp;: `emacs sample.c` を実行  
のように表記する。
  ## 0.1&emsp;ファイルとディレクトリの違い
  ディレクトリの中にファイルを入れることができる。そのディレクトリをさらに上位のディレクトリの中に入れることもできる。
  ## 0.2&emsp;Mac でのターミナルの使い方
  ###### 1. 別のウィンドウに移るには?
  「Command + @」 を押下
  ###### ターミナルの背景色やフォントや文字サイズを変更するには?
  「Command + ,」 を押下して設定を開く。背景色は、そのままいじったらすぐに変わる。  
  フォントもいじってすぐに変わる。が、なぜか文字サイズだけは変更がすぐに反映されない。対処法として以下のようなものがある。
  1. 変更後、設定左に並ぶミニ画面をダブルクリックで新ウィンドウを出すと、そちらは設定後のサイズになっている。
  2. それでもダメなら、左のミニ画面でデフォルトを適当なものに変えてみる。デフォルトじゃなくなった後にダブルクリックで新ウィンドウを出すと、直接反映で可能になる。
  ## 0.3&emsp;Linux でのターミナルの使い方
  ###### 0. Linux を起動したら、最初に何をすると良いか?
  `imwheel` を実行してマウスのホイールのスクロール速度を上げる。（もし未設定なら以下を参照に設定する。次からは `imwheel` で良いので）  
  [Ubuntuでimwheelでマウスホイールのスクロール速度の変更](https://codechacha.com/ja/linux-imwheel/)
  ###### 1. ウィンドウを増やすには?減らすには?
  「Ctrl + Alt + D」 を押下、減らすには 「Ctrl + D」 を押下。なんで増やす方が煩雑なんだよ (｀ω´)
  ## 0.4&emsp;シェルスクリプト という言語について
  （ターミナルに直に入力できる） コマンドを複数まとめたものがシェルスクリプトというファイルの種類であり、そのコマンドたちの言語の名前でもある。
  ###### 1. １行目には何を書くか
  #!/bin/sh
  ###### 2. 最後の行には何を書くか
  exit 0
  ###### 3. echo で文字を出したい
  Mac の環境では、ダブルクォーテーションは不要で、単に `echo 波浪世界` のようにすれば良い。  
  https://tech.withsin.net/2016/06/16/mac-echo-n/  
  ## 0.5&emsp;vim というエディタについて
  ###### 1. 既存のファイルを開く、または新規制作するには?
  どちらであっても `vi aaa.sh` のように起動
  ###### 2. 入力モードに移るには
  まずは 「i」 を押下して入力モードにする。現在のカーソルのある場所に文字を入力できる。
  ###### 3. カーソルを矢印キー押下で動かそうとしたら、ABCD の文字が入力されてしまった。困る。
  まずは落ち着いて。矢印キーは 「入力モード」 では ABCD の入力になってしまうので、「esc」 キーで 「コマンドモード」 に移動する。  
  (Mac ではできるが） Linux では、基本的に文字の削除は 「コマンドモード」 でしかできない。「コマンドモード」 ではカーソル移動は矢印キーでできるので、削除したいものにカーソルを合わせ、「x」 を押下すると消せる。空白の１行ができてしまった場合は、「Shift + j」 を押下して改行を削除する。
  ###### 4. とりあえず保存するには
  「コマンドモード」 で `:w` を実行。 write と覚える。
  ###### 5. 入力が終わったので、保存して閉じるには。また、閉じたくないので保存だけしたい時には
  まずは 「esc」 を押下してコマンドモードにする。保存して閉じるには `:wq` 、保存だけなら `:w`  
  下の窓に、「written」 が出たら OK。（どうでも良いが、しゃっくり t の発音である）

# 1&emsp;デスクトップ環境
ログイン後 X window を起動し (大抵自動で起動する)、以下を順に行え。
  ## 1.1&emsp;コンソール上で
  * [ ] 1. 「Ctrl + Meta（Linux では Ctrl） + F3」 を押下 （現在は F2 にいるので） 。　CUI になる。
  * [ ] 2. 
    * [ ] `yes` と入力後、「control - c」 を押下して停止
    * [ ] `yes` と入力後、「command - n」 を押下して新規ウィンドウ、`ps auxw` で PID を調べて 「kill プロセスID」 で強制終了  
    * [ ] `yes` と入力後、新しいウィンドウで `top` と入力し、件の PID を探して `kill プロセスID` で強制終了  
  * [ ] 3. 「control - s」 を押す、入力ができなくなるが、「control - q」 を押すと直る。入力不可の間に入れた文字が一気に出てくる （Mac ではそもそも入力不可にならない）
  * [ ] 4. `yes` をたくさん起動。その後、コマンド名指定で kill したいので、`killall yes` で強制終了
  * [ ] 5. `exit` を実行してログアウト
  * [ ] 6.  「Ctrl + Meta（Linux では Ctrl） + F2」 を押下。 GUI（ X Window ）　に戻る。
# 2&emsp;UNIX コマンド・基本アプリケーション
  ## 2.1&emsp;エディタ
  まず emacs をインストール。  
  [【CentOS】優しいEmacsインストール方法【Ubuntu】](https://suwaru.tokyo/%E3%80%90centos%E3%80%91%E5%84%AA%E3%81%97%E3%81%84emacs%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%96%B9%E6%B3%95%E3%80%90ubuntu%E3%80%91/#anc_2)  
  を参考にする（ただし、サイト内では古いバージョンの話をしていることがあるので、コマンドベタ貼りする時にはバージョンの数字だけ変えること（26 → 28 など））  
  ###### 1. マウスカーソルを上下左右に動かす方法 は?(矢印キー以外を使う)
  * [ ]  それぞれ　「control - 」 と、「b」「f」「p」「n」。back , forward , previous , next と覚える
  ###### 2. 編集画面 (パネル) を分割表示する方法は? また、分割表示をやめる方法は?
  * [ ]  「Control - x」「２」 で 2 画面に分割できる。「Control - x」「3」 で 3 画面、「Control - x」「1」 で元に戻る 
  ###### 3. 分割した画面 (パネル) 間でカーソル移動する方法は?
  * [ ]  「Control - x」「o」 で、分割を跨いでカーソル移動できる
  ###### 4. 編集画面を複数開く方法は?また，減らす方法は?
  * [ ]  「command - n」 new と覚える
  ###### 5. コピー&ペーストをするキー操作は?
  ###### 6. カット&ペーストをするキー操作は?
  * [ ] 5. コピーは　「command - c」,  ペーストは　「command - v」
  * [ ] 6. カットは　「command - x」,  ペーストは　「command - v」
  ###### 7. 読み込んだファイル中のある文字列を探すためのキー操作は (前方検索/後方検索)? さらに同じ文字列がある次の場所を探す方法は?
  * [ ]  前方検索は 「control - s」 、後方検索は 「control - r」  ,カーソル移動はもう一度押すとできる
           それぞれ、「I - search」、「I - search backforward」 という検索窓が出てくる
  ###### 8. ファイル中の特定の文字列を別の文字列に置換するためのキー操作は?
  * [ ]  「Alt - Shift - 5」 いわゆる 「M - %」 で 「Query replace with」 という検索窓が現れる。
  ## 2.2&emsp;基本コマンド
  ###### 1. ターミナル上から emacs 等のアプリケーションを起動するとき，ターミナルを継続して利用できるように起動 (バックグラウンド 起動) するにはどうすればよいか?
  * [ ]  `emacs`　とコマンドを入力すると、emacs を閉じるまでターミナルが仕事中になってしまうので使えなくて困る。  
            そこで、コマンド末尾に `emacs try.c &` のように & をつけることで、バックグラウンド起動できる。
  ###### 2. 前問の起動オプションを忘れて，うっかりターミナル上から emacs を起動してしまった。その後 emacs を終了すること無く，ターミナルも emacs も利用できるようにする方法は?
  * [ ]  「Control + z」 を押下して一時中断、その後 `bg` コマンドでバックグラウンドに回せば良い。  
            その後はターミナルも使える。ジョブは `jobs` で確認可能。
  ###### 3. あるプログラムと、それを少し修正したプログラムで、どこが違うかを知る方法は?
  * [ ]  Mac の場合は、テキストエディットの新規書類で、フォーマット「.txt」 のファイルを作り、プログラムを貼り、`diff aaa.txt bbb.txt` とターミナルに入れて検索
  ###### 4. 現在いるディレクトリがどこか、その絶対パスを知る方法は?
  * [ ]  `pwd`
  ###### 5. あるディレクトリにコマンド cdで移動後、もとのディレクトリに戻るにはどうしたらいい? (cdのオプションを利用する)
  * [ ]  `cd -`
  ###### 6. ディスク使用率を表示するコマンドは?
  * [ ]  `df`
  ###### 7. あるテキストファイルに含まれる文字数や行数を調べる方法は?
  * [ ]  `wc kadaiyou.txt` を実行。「 1       2     257」 のように表示される。
  ###### 8. 日本語のテキストファイルの文字コードを判断する方法は?
  * [ ]  `brew install nkf` で Mac に nkf コマンドをインストール後、 `nkf -g kadaiyou.txt` のようにして実行。「UFT-8」 と表示される
  ###### 9. EUC のテキストファイルの文字コードをUTF-8 に変換するには?
  * [ ]  まずは、以下 C を参考に、適当な txt ファイルを作る。
  ###### A1. 現在の場所にあるファイルとディレクトリ一覧を出す方法は？
  `ls`
  ###### A2. 現在の場所にあるファイルのみ、ディレクトリのみを表示する方法は?
  ファイル&emsp;&emsp;： `ls -l `  
  ディレクトリ： `ls -l | grep ^d | awk '{print $9}'`
  ###### A3. 現在の場所にある、a から始まる名前のファイルを名前順に一覧表示するには？
  `find ./ -name a\* | sort` ./ は現在のディレクトリを意味する。代わりに絶対パスを入れても良い。（/home/hera/shu_w のように）  
  また、ワイルドカード * の前には傾き負のスラッシュ必須である。
  ###### B. あるテキストファイルの中身を空にする方法は？
  `cp /dev/null "simple apple.txt"` なお、cp は本来コピーのコマンドである。
  ###### C1. Linux で新しい txt ファイルを作る方法は ?
  touch コマンドを用いて `topuch japanese.txt` 、さらに複数同時作成したい場合は `touch {file1,file2}`  
  https://k-koh.hatenablog.com/entry/2020/01/10/152237
  ###### C2. ファイルを移動するには？
  動かしたいファイルの階層まで降りてきて、 `mv file1.txt /home/hera/shu_w` 。行くまでにルートディレクトリ / を経由するような場合には sudo を先頭につけると良い。
  ###### D. ファイルを一つ、または複数消すには？
  簡単。 `rm file1.txt file2.txt` のようにすれば良い。 rm コマンドは便利なので覚えること
  https://atmarkit.itmedia.co.jp/ait/articles/1606/06/news013.html  
  ***rm, rmdirコマンドで削除すると、ゴミ箱に移動されるのとは違い基本的な復元ができなくなってしまいます。削除は慎重にしたほうが良いでしょう。***  
  ***特に、友達のパソコンで `cd /` でルートディレクトリまで上った後に、`rm -rf *` を実行するなど絶対にしてはいけない***  
  ***上記の呪文は rf（再帰的（つまり中身があるディレクトリも削除可能）かつ強制的（force 確認なしで削除））　オプションをつけ、ワイルドカード * で ./ 以下全てのディレクトリを対象にする恐ろしい呪文、いわゆるバルスである。絶対にしないように***  
  ***後にわかったが、更にお手軽な `sudo rm -rf /` という呪文がある。やってはいけない***  
  ###### E. 現在のパソコンの実行環境を取得するには?
  `uname -a`  
  UNIX コンピュータの情報を取得する uname コマンドに、全てを表す -a オプションをつける  
  https://wa3.i-3-i.info/word12540.html  
  ## 2.3&emsp;マウス操作
  ###### 1. マウスで 1 単語 (文節) のみ選択する方法は?
  * [ ]  自明
  ###### 2. マウスで選択した単語をペーストする方法は?
  * [ ]  選択後、二本指でクリック （Mac のみ）
  ## 2.4&emsp;プリンタ管理
  ###### 1. プリンタの稼働状況を知るコマンドは?
  * [ ]  `lpq` でプリンタの状況確認、Line Printer Queue　の略
  ###### 2. プリンタジョブをキャンセルする方法は?
  * [ ]  上記コマンドで、キューの名前とジョブ番号を調べた後、`qcan -P キュー名前 -x ジョブ番号`　でキャンセル
  ## 2.5&emsp;ファイル情報取得
  ###### 1. ファイル math.h がシステム上のどこにあるか、その一覧を表示するコマンドは?
  * [ ]  `ls 名前` 　Mac なら `mdfind -onlyin ~/ -name "about apple.txt"` のようにもできる
  ###### 2.ls とタイプしたとき実行されるコマンドがどこのパスにあるかを知るためのコマンドは?
  * [ ]  `which ls`　　これとは別に、どんなエイリアスがついてるかを確認する `type ls` というコマンドもある
  ## 2.6&emsp;エイリアス
  ###### 1. em とタイプすると emacs が起動するようにエイリアスをつくりなさい。
  * [ ]  `alias em='emacs'`
  ###### 2. 一時的にエイリアスを無効にして em という名前のコマンドを実行する方法は?
  * [ ]  `\em` を実行。
  ###### 3. 現在 em がどのようなエイリアスになっているかを確認する方法は?
  * [ ]  `alias em` と入れると `alias em='emacs'` と出てくる
  ###### 4. 作成したエイリアス em が不要ならば削除せよ。
  * [ ]  `unalias em` で無効にする
  ## 2.7&emsp;シンボリックリンク
  ###### 1. ディレクトリ  ̃/c と ̃/tmp をつくりなさい。
  * [ ]  作りたい場所に移動（ `cd 名前` ）して、`mkdir c`、 `mkdir tmp`
  ###### 2. ディレクトリ ̃/tmp に移動せよ。
  * [ ]  `cd tmp`
  ###### 3. ディレクトリ ̃/cへのシンボリックリンクをつくれ。
  * [ ]  「ファイル」　ではなく （同列の） 「ディレクトリ」 のシンボリックリンクであることに注意する。  
          ln コマンドの （原データへのハードリンクではないので） -s というシンボリックオプションを付けて  
          `ln -s /Users/shuwmp/c c` （ディレクトリ c への、c という名前のシンボリックリンク）  
  ###### 4. ls cで、 ̃/c以下を参照できることを確かめよ。
  * [ ]  tmp 内で `ls c` で、 result.txt が出てくる
  ###### 5. cd cでシンボリックリンクの中へ移動できることを確かめよ。
  * [ ]  tmp 内で `cd c` でディレクトリ c 内へと移動可能、ここで `ls` すると result.txt が見れる
  ###### 6. さらに、cd ../ でもとのディレクトリ ( ̃/tmp) に戻れることを確かめなさい。
  * [ ]  ディレクトリ c 内で `cd ../` で tmp 内へと戻れる
  ###### 7.  ̃/tmp/c を削除せよ。この時 ̃/cは無くならないことを確認しなさい。
  * [ ]  tmp 内で `rm c` で削除。~/ に戻った後、 `ls` で確認。
  ###### 8. 最後に、ディレクトリ ̃/tmpと ̃/cを (不要なら) 削除しなさい。
  * [ ]  ~/ に戻った後、ディレクトリの中身もろとも消したいので -r の再帰オプションを付けて `rm -r c tmp`  
          ***rm, rmdirコマンドで削除すると、ゴミ箱に移動されるのとは違い基本的な復元ができなくなってしまいます。削除は慎重にしたほうが良いでしょう。***
  ## 2.8&emsp;リダイレクト・パイプ
  以下をそれぞれコマンド行一行で解決する方法を考えよ。
  ###### 1. ls −lR の出力をファイル ls−lR に書き込むにはどうしたらよいか?
  * [ ]  まず準備として、"ls -IR.txt" というファイルを用意して、 ~/ に置く。一応中身を `cat "ls -IR.txt"`　で確認する。  
         あるコマンドの標準出力を書き込みたい時には `>` （リダイレクト）　を使えば良いので、`ls -IR > "ls -IR.txt"` をすれば良い。  
         この時、最初に確認した 「元の中身」 は消えるようなので注意する
  ###### 2. ファイル math.h から、文字列 PI を含む行を全て抜き出すにはどうしたらいい?
  * [ ]  Mac の場合、まずは `cd /` でディスクの一番上の階層、rootディレクトリへ移動する。そこから  
          `cd /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include`  
           とすることで フォルダ include まで降りてこれる。ここで `cat math.h` すればちゃんと中身が見れる。← の標準出力から PI を含む行のみを見たいので、  
           `grep PI math.h` を実行すればよい。  
           さらに他の方法としては、 `cat math.h | grep 'PI'` というものもある。
  ###### 3. あるファイルの、末尾から 50 行のみを less を使って見る方法は?
  * [ ] `less` は、テキストファイルを1画面ずつ表示するコマンドなので、末尾から10行 （オプションで任意） を出力する tail と併用して、
         `tail -n 50 math.h | less` とすれば良い。
         この時、less は１画面ずつ表示とあるが、50 行程度であればウィンドウのサイズを調整すれば普通に１画面に収まる。
         less コマンドを使ったときは、ターミナルは閲覧専用モード（?） になるので、「Q」 を押下して終了。（その他　「H」 でヘルプ等の操作がある）
  ###### 4. あるファイルの、先頭から 50 行のみを less を使って見る方法は?
  * [ ] 上記とほぼ同じなのだが、 `head -n 50 math.h | less` をすれば良い。
  ###### 5. CSV 形式のファイルの 2 列目のみを抜き出して表示する方法は? ($ man cut参照) CSV 形式とは以下の例のように、各行にデータ を”,” で区切って保存するデータ形式である。
  * [ ] 適当な csv ファイル men.csv を用意する。`cat men.csv | cut -d "," -f 2` を実行することで２列目を抽出できる。  
           cut コマンドのオプション d では、csv の区切り文字 （今回はカンマ） を、-f オプションでは列を指定している。  
           行指定をしたい場合は、 sed コマンドを使って `sed -n 2p men.csv` とする。  
           参照　　[cutコマンドについてまとめました 【Linuxコマンド集】](https://eng-entrance.com/linux-command-cut)
  ###### 6. 以下のように 2 つのデータファイル (data1.txt,data2.txt) があるとする。これらの2つのデータファイルの各行をくっつけて以下のようなファイル(data3.txt)を出力する方法は? (\$ man paste 参 照)
  * [ ] これは簡単。ファイルを行単位で連結する paste コマンドを用いて、 `paste data1.txt data2.txt` でよい。出力は以下の通り 
      > Shu-MacBook-Pro:~ shuwmp$ `paste data1.txt data2.txt`  
        1	10  
        2	15  
        3	20  
            
  ## 2.9&emsp;文字列置換
  ###### 1. あるファイルの空白 (スペース) をすべて削除する方法は?
  * [ ]  まず、空白を大量に含んだ "verbose apple.txt" を用意する。  
          削除したものを標準出力するだけなら、文字列置換のコマンド sed を用いて、スペースを「なんにもない」に置換すれば良いので、  
          `sed 's/ //g' "about apple.txt"`  で事足りる。ただし、往々にして 「空白削除したファイルを新たに作りたい」 場合がある。  
          そんな時はリダイレクトを用いて `sed 's/ //g' "about apple.txt" > "true apple.txt"` とすれば、 true apple.txt に綺麗なものが書き込まれる。  
          尚、もう一度試したいので true apple.txt の中身を空にしたいときは、 `cp /dev/null "simple apple.txt"` をすれば良い。  
  ###### 2. あるファイルの連続した 5 つの空白 (スペース) をタブに置換して、その結果をファイルに保存する方法は?
  * [ ] 上記の応用なので、 sed コマンドの置換前の文字と置換後の文字を入れる場所に注意して、 `sed 's/     /\t/g' "verbose.txt" > "simple.txt"`  
        すれば良い。下記のサイトには、\t をダブルクォーテーションで囲むべきとの描写があるが、 Mac（現在の環境） では不要と思われる。むしろ付けてしまうと、
        タブがダブルクォーテーションで囲まれてしまうので、しない方が良い。  
        [コマンドでtabやスペースを置換する方法 sed ruby](https://takuya-1st.hatenablog.jp/entry/2014/08/04/152101)
  ###### 3. あるファイルの各行のはじめにある空白 (スペース) およびタブをすべて削除する方法は?
  * [ ]  行頭を示すオプション ^ と、連続置換のオプション　-e 用いて、　`sed -e 's/^ //g' -e 's/^\t//g' simple.txt`　とすれば良い。  
          どこかに結果を書き込む場合は、前問の通り。
# 3&emsp;apt コマンド (Ubuntu Linux 等でのコマンド)
  ###### 1. インストールされているパッケージの一覧を表示する apt コマンドは?
  * [ ]  `sudo apt list`
  ###### 2. インストールされているパッケージを最新状態にする apt コマンドは?
  * [ ]  `sudo apt upgrade`  
            （保留されているパッケージ更新には `sudo apt full-upgrade` を用いる）
  ###### 3. あるパッケージをインストールする apt コマンドは?
  * [ ]  `sudo apt install パッケージ名`
  ###### 4. 指定したファイルがどのパッケージに含まれているかを確認する方法は?
  * [ ] 　まず、apt-file がインストールされていない場合は　`sudo apt install apt-file`　する。その後、`sudo apt-file update` もする。  
          上記ののち、 `apt-file search 文字列` することで、「文字列」を含むファイル名の入ったパッケージを、未所持のパッケージも含めて検索できる。  
          さらに、完全一致オプション -F を付与した `apt-file search -F ファイル名`　で、完全に一致したもののみを参照可能。  
          なお、 dpkg コマンドを用いれば、所持中のパッケージのみを対象に検索できる。
  ###### 5. 指定したパッケージに含まれるファイル一覧を表示する方法は?
  * [ ] 　`apt-file list 文字列` で、パッケージ名に 「文字列」 を含むパッケージ以下のファイルを参照可能、 -F オプションも使用可能。  
        [【 apt-file 】コマンド――特定のファイルが収録されているパッケージを探す](https://atmarkit.itmedia.co.jp/ait/articles/1709/08/news020.html)
# 4&emsp;シェルスクリプトとパス設定
長い一連の命令をひとつのコマンドとするには、通常シェルスクリプトと呼ばれるファイルを作成する。
  ## 4.1&emsp;準備運動
  ###### 1. 引数の数、第 0 引数、第 1 引数、全ての引数をそれぞれ表示するシェルスクリプト arg.sh を作って arg.sh ”a b” 3 a b の出力がどうなるか確認せよ。
  * [ ]  まずは emacs で shファイルを作りたいので、`emacs arg.sh` で起動する。中身を作ったら `chmod +x arg.sh` で利用可能にする。  
  その後、`sh arg.sh "A_B" 3 a b` する。出力は以下の通り。　　　
    
     > shu_w@ganesha:/mnt/nfs/hera/shu_w$`sh arg.sh "A_B" 3 a b`  
     > これが第０引数 arg.sh  
     これが第１引数 A_B  
     これが全ての引数 A_B 3 a b  
     これが引数の数 4　　

    ここから、起動コマンドは第０引数で、それ以降のものが引数の数にカウントされることが分かる。  
    また、この arg.sh はホームディレクトリ ~/ 内にあるものとしている。
  ###### 2. arg.sh をディレクトリ ̃/binに置き、どこのディレクトリにいても ’arg.sh’ を実行できるよう、パスの設定をせよ。
  * [ ] まず bin というディレクトリをホームディレクトリの中に作る （bin という名前のディレクトリはすでにルートディレクトリの中に存在するせいでとても紛らわしいが、これは今から新しく、*ホームディレクトリの中に* bin というディレクトリを作るということである。） ので `cd` の後に `mkdir bin`  
          それから、 `mv arg.sh /home/hera/shu_w/bin` で移動すれば、あとは起動パスの設定なので  
          `~/bin/arg.sh` という呪文の完成である。先頭に絶対パスをつけたので、今後はどこからでも起動可能である。  
          （余談だが、筆者は上記の bin のような紛らわしい言い方はあまり好ましくないと考える。一般的に膾炙された bin という名前のディレクトリがあるにも関わらず、なんの脈絡も無しに bin の話を始めた後に、「私の言っていた bin とは、あなたが今から新しく作る方のことでしたよ。」 とは、いかがなものだろうか。例えるならこれは、「田中がこの前さ~」という話を 「共通の知人の田中」 の事だと思って聞いていたら、実は話し手しか知らない「田中」 の事でした、というようなものである。日本語とは斯くもハイコンテクストな言語であるが、せめて固有名詞を使う前には、一意に定まる情報を付与して欲しいものだ）  
          （これも余談になるが、同じようなトラブルとして、朝の9時なのか夜の9時なのか紛らわしい言い方をされ、あわや行き違いになりそうだった経験を思い出した。）
  ## 4.2&emsp;ファイル圧縮
  ###### 1. 指定ディレクトリを圧縮した tar.bz2 ファイルをつくるシェルスクリプト bzdir をつくりなさい。すなわち $ `bzdir <directory name>` を実行すれば、<directory name>.tar.bz2 が出来るスクリプトをつくりなさい。ただし、以下の仕様を満たすようにすること。  
  ###### a) 作成したプログラムの使用方法を表示してプログラムを終了する関数 Usage を作成し、引数の数が 1 個でない時には、その関数 Usage を呼び出すこと。  
  ###### b) 引数で与えた名前のディレクトリが存在しないときには、エラーメッセージを表示して終了  
  ###### c) システムにあらかじめ用意されているコマンド bzip2dir は用いずに、tar を用いて実現すること。  
  * [ ]  まずは sh ファイルを作りたいので、`emacs bzdir.sh &` で emacs を起動するのも良いが、せっかくなので  
  `vi bzdir.sh` で、vi エディタを用いると良い。中身は別載。標準出力は以下の通り  
  
      > Shu-MacBook-Pro:~ shuwmp$ `sh bzdir.sh gym2021`  
    現在のディレクトリ：  
    /Users/shuwmp  
    a gym2021

      ファイルを確認すると、ちゃんと圧縮ファイルである gym2021.tar.gz ができている
  ###### 2. カレント・ディレクトリにあるディレクトリをそれぞれ圧縮するシェルスクリプト bzdir2 をつくりなさい。(c/,tex/というディレクトリがあれば、c.tar.bz2, tex.tar.bz2をつくる。)
  * [ ]  まずは `vi bzdir2.sh` でエディタを開く。
  ###### 3. 引数に <name>.tar.gz といった .tar.gz で終る名前を与えたときに、<name>.tar.bz2 という名前を表示するシェルスクリプトをつくりなさい。
  * [ ]  まずは `vi gz_bz2.sh` でエディタを開く。中身は別載。標準出力は以下の通り  
      > Shu-MacBook-Pro:~ shuwmp$ `sh gz_bz2.sh gym2021.tar.gz`  
        gym2021.tar.bz2

  ###### 4. 現在いるディレクトリに gzip で圧縮されたファイル (*.gz) があれば、bzip2 で圧縮したファイルに変換するスクリプト gz2bz2 をつくりなさい。変換前と変換後のファイルサイズも表示するようにしなさい。
  * [ ]  まずは `vi gz2bz2.sh` でエディタを開く。

  # 5&emsp;リモート操作
  リモート接続可能な計算機 venus があるとして、以下の課題をしなさい。  
  ただし現在の研究室には venus が無いので、自分のラップトップを研究室のパソコンに繋ぐ  
  [sshを使うための各設定](https://qiita.com/kaw404/items/a4550190e6f27ff565a5)  
  [sshd_configの設定項目の理解を目指す](https://unskilled.site/sshd_config%E3%81%AE%E8%A8%AD%E5%AE%9A%E9%A0%85%E7%9B%AE%E3%81%AE%E7%90%86%E8%A7%A3%E3%82%92%E7%9B%AE%E6%8C%87%E3%81%99/)    
  ## 5.0&emsp;SSH接続の準備
  ###### 1. サーバー側で、ssh_config のポート番号とルートログイン権限を変更せよ
  まずは `cd /etc/ssh` のあと `vi sshd_config` （ssh_config と間違えないように注意!!) で編集画面にする。  
  （この時、~/ から `vi /etc/ssh/sshd_config` で直接開くこともできるが、せっかくなので ssh 内にある他のファイルも見ようと思い、これにした)  
  その後、vi エディタをうまく使い、ポート番号を （おそらく 22 になっているが、これは良く無いので） 変更する。  
  更に、
  ###### 2. 上記の操作はなんのためにやるのか？　（やらないとどうなるか？）
  
  ###### 3. クライアント側で、公開鍵と秘密鍵を生成せよ。
  `ssh-keygen -t rsa` を実行。  
  「Enter file in which to save the key (/Users/shuwmp/.ssh/id_rsa):」 という表示が出るので、 新しくできる、「鍵を入れるファイル」 の名前を決める。  
  ## 5.1&emsp;他ホストへの接続
  ###### 1. venus（実際は ganesha） に ssh でログインするシェルスクリプト connect を作りなさい。
  * [ ]  まずは
  ###### 2. connectを  ̃/bin に置いて，以下のような名前のシンボリックリンクを  ̃/bin 内につくりなさい。
  * [ ] 
  * [ ] 3.
  ## 5.2&emsp;リモートコピー
  * [ ] 1.
  * [ ] 2.
  ## 5.3&emsp;アクセス権限
  研究室では NFS サーバ hera に共用ディレクトリ/home/public/がある。
  ###### 1. 研究室のマシンにログインしなさい。
  * [ ] 自明
  ###### 2. /home/public/tmp以下に自分の名前のディレクトリ (仮に pochiとする) を作りなさい。
  * [ ]  ルートディレクトリからの絶対パスを用いて、 `cd /home/public/tmp` した後、 `mkdir cabbage`
  ###### 3. /home/public/tmp/pochi にアクセス権限を持つヒトは誰かを確認する方法を述べなさい。 また、このディレクトリの中のファイル一覧を参照できる権限を持つユーザ、中のファイル削除や名前変更等ができる権限を持つユーザ、中に cd できる権限を持つユーザがそれぞれどのようなユーザか述べなさい。
  * [ ] tmp に降りてきて、`ls -l` を実行すると全ファイルとディレクトリの権限や所有者、更新日時などの属性が見られる。  
        当該ファイル cabbage について書かれた行には 「drwxr-xr-x 1 shu_w     users         0 11月 24 20:02 cabbage」 と表示される。  
        上記の最初の10文字（最初の1文字は、種類がディレクトリであることを表す） 「d_rwx_r-x_r-x」 が権限を表す。  
        rwx が、作成者 shu_w に「読み出し・書き込み・実行」　の権限があることを表す。  
        続く r_x と r_x は、それぞれグループのメンバーと、それ以外の他人の権限を表しており、今回は両方とも 「読み出し・実行」　のみである。  
        ディレクトリ内のファイル一覧表示の権限は、r の読み出しなので、ここでは誰でも可能である。  
        中のファイルの削除や名前変更は、w の書き込み権限なので、ここでは作成者 shu_w しかできない。  
        cd コマンドは、ディレクトリ内への移動なので、 x の実行権限が必要である。ここでは誰でもできる。
        [Linuxの権限確認と変更(chmod)（超初心者向け）](https://qiita.com/shisama/items/5f4c4fa768642aad9e06)  
        [Linuxのパーミッション -不本意なファイル削除を防ぐための設定-](https://tech-blog.rakus.co.jp/entry/20191204/linux/new-engineer)  
  ###### 4. /home/public/tmp/pochi に自分の作ったプログラム (dog.c とする) をなにか置いて、それに対して読み込み権限を持つヒト、書き換えや削除権限を持つヒトはそれぞれどのようなヒトか述べなさい。
  * [ ]  まずは `vi vegetable.c` で c ファイルを作る。  `ls -l` を実行すると、  
          「-rw-r--r-- 1 shu_w users 74 11月 25 12:18 vegetable.c」　と表示される。  
          よってこのファイルに読み込み権限 r を持つのはユーザー全員であり、  
          書き換えや削除の権限 w を持つのは作成者 shu_w のみとなる。
  ###### 5. 自分と同じグループに属するヒトが /home/public/tmp/pochi/dog.c を読み書きできるようにパーミションの設定する方法は?  
  * [ ]  権限の変更には chmod というコマンドがある。読み書きということは、新たに付与するのは書き込み w のみで良いので  
          `chmod go+w vegetable.c`　を実行。（g（グループ） と o(他の人) に +(付与する)、w 権限を）  
          確認にもう一度 `ls-l` してみたら  
          「-rw-rw-rw- 1 shu_w users 74 11月 25 12:18 vegetable.c」  となっている。
  
  scp -P 10022 ~/save_the_key.pub shu_w@ganesha:/etc/ssh
